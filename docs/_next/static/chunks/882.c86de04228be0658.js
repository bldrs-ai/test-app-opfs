self.addEventListener("message",async e=>{try{if("accessOPFS"===e.data.command)try{try{let e;let t=await navigator.storage.getDirectory();try{e=await t.getFileHandle("testFile")}catch(o){console.log("File 'testFile' not found, creating new file."),e=await t.getFileHandle("testFile",{create:!0})}try{await t.getDirectoryHandle("testFolder")}catch(e){console.log("Directory 'testFolder' not found, creating new directory."),await t.getDirectoryHandle("testFolder",{create:!0})}try{console.log('Writing "Hello, World!" to testFile...');let t=await e.createSyncAccessHandle(),o=new TextEncoder().encode("Hello World!");t.write(o,{at:0}),await t.close()}catch(e){console.log("Error writing to testFile: ".concat(e,"."))}try{let t=await e.getFile(),o=await t.text();console.log("testFile contents: ".concat(o))}catch(e){console.log("Error reading from testFile: ".concat(e,"."))}console.log("deleting testFile"),t.removeEntry("testFile");try{e=await t.getFileHandle("testFile")}catch(e){console.log("testFile deleted.")}console.log("deleting testFolder..."),t.removeEntry("testFolder");try{await t.getDirectoryHandle("testFolder")}catch(e){console.log("testFolder deleted.")}}catch(e){console.error("Error accessing OPFS:",e)}}catch(e){console.error("Error creating file:",e)}}catch(e){self.postMessage({error:e.message})}}),_N_E={};