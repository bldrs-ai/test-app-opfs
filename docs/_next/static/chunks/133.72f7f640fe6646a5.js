"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[133],{6701:function(e,t,n){n.d(t,{z:function(){return f}});var o=n(3428),r=n(7837),a=n(2265),i=n(6375),c=Object.defineProperty,s=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l=(e,t,n)=>(s(e,"symbol"!=typeof t?t+"":t,n),n);let u=new i.Ray,p=new i.Plane,m=Math.cos(Math.PI/180*70),d=(e,t)=>(e%t+t)%t;class h extends i.EventDispatcher{constructor(e,t){super(),l(this,"object"),l(this,"domElement"),l(this,"enabled",!0),l(this,"target",new i.Vector3),l(this,"minDistance",0),l(this,"maxDistance",1/0),l(this,"minZoom",0),l(this,"maxZoom",1/0),l(this,"minPolarAngle",0),l(this,"maxPolarAngle",Math.PI),l(this,"minAzimuthAngle",-1/0),l(this,"maxAzimuthAngle",1/0),l(this,"enableDamping",!1),l(this,"dampingFactor",.05),l(this,"enableZoom",!0),l(this,"zoomSpeed",1),l(this,"enableRotate",!0),l(this,"rotateSpeed",1),l(this,"enablePan",!0),l(this,"panSpeed",1),l(this,"screenSpacePanning",!0),l(this,"keyPanSpeed",7),l(this,"zoomToCursor",!1),l(this,"autoRotate",!1),l(this,"autoRotateSpeed",2),l(this,"reverseOrbit",!1),l(this,"reverseHorizontalOrbit",!1),l(this,"reverseVerticalOrbit",!1),l(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),l(this,"mouseButtons",{LEFT:i.MOUSE.ROTATE,MIDDLE:i.MOUSE.DOLLY,RIGHT:i.MOUSE.PAN}),l(this,"touches",{ONE:i.TOUCH.ROTATE,TWO:i.TOUCH.DOLLY_PAN}),l(this,"target0"),l(this,"position0"),l(this,"zoom0"),l(this,"_domElementKeyEvents",null),l(this,"getPolarAngle"),l(this,"getAzimuthalAngle"),l(this,"setPolarAngle"),l(this,"setAzimuthalAngle"),l(this,"getDistance"),l(this,"listenToKeyEvents"),l(this,"stopListenToKeyEvents"),l(this,"saveState"),l(this,"reset"),l(this,"update"),l(this,"connect"),l(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>f.phi,this.getAzimuthalAngle=()=>f.theta,this.setPolarAngle=e=>{let t=d(e,2*Math.PI),o=f.phi;o<0&&(o+=2*Math.PI),t<0&&(t+=2*Math.PI);let r=Math.abs(t-o);2*Math.PI-r<r&&(t<o?t+=2*Math.PI:o+=2*Math.PI),b.phi=t-o,n.update()},this.setAzimuthalAngle=e=>{let t=d(e,2*Math.PI),o=f.theta;o<0&&(o+=2*Math.PI),t<0&&(t+=2*Math.PI);let r=Math.abs(t-o);2*Math.PI-r<r&&(t<o?t+=2*Math.PI:o+=2*Math.PI),b.theta=t-o,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=e=>{e.addEventListener("keydown",en),this._domElementKeyEvents=e},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",en),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(o),n.update(),s=c.NONE},this.update=(()=>{let t=new i.Vector3,r=new i.Vector3(0,1,0),a=new i.Quaternion().setFromUnitVectors(e.up,r),l=a.clone().invert(),d=new i.Vector3,v=new i.Quaternion,y=2*Math.PI;return function(){let O=n.object.position;a.setFromUnitVectors(e.up,r),l.copy(a).invert(),t.copy(O).sub(n.target),t.applyQuaternion(a),f.setFromVector3(t),n.autoRotate&&s===c.NONE&&D(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(f.theta+=b.theta*n.dampingFactor,f.phi+=b.phi*n.dampingFactor):(f.theta+=b.theta,f.phi+=b.phi);let w=n.minAzimuthAngle,P=n.maxAzimuthAngle;isFinite(w)&&isFinite(P)&&(w<-Math.PI?w+=y:w>Math.PI&&(w-=y),P<-Math.PI?P+=y:P>Math.PI&&(P-=y),w<=P?f.theta=Math.max(w,Math.min(P,f.theta)):f.theta=f.theta>(w+P)/2?Math.max(w,f.theta):Math.min(P,f.theta)),f.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,f.phi)),f.makeSafe(),!0===n.enableDamping?n.target.addScaledVector(E,n.dampingFactor):n.target.add(E),n.zoomToCursor&&L||n.object.isOrthographicCamera?f.radius=U(f.radius):f.radius=U(f.radius*g),t.setFromSpherical(f),t.applyQuaternion(l),O.copy(n.target).add(t),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),!0===n.enableDamping?(b.theta*=1-n.dampingFactor,b.phi*=1-n.dampingFactor,E.multiplyScalar(1-n.dampingFactor)):(b.set(0,0,0),E.set(0,0,0));let j=!1;if(n.zoomToCursor&&L){let o=null;if(n.object instanceof i.PerspectiveCamera&&n.object.isPerspectiveCamera){let e=t.length();o=U(e*g);let r=e-o;n.object.position.addScaledVector(C,r),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){let e=new i.Vector3(M.x,M.y,0);e.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/g)),n.object.updateProjectionMatrix(),j=!0;let r=new i.Vector3(M.x,M.y,0);r.unproject(n.object),n.object.position.sub(r).add(e),n.object.updateMatrixWorld(),o=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;null!==o&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(o).add(n.object.position):(u.origin.copy(n.object.position),u.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(u.direction))<m?e.lookAt(n.target):(p.setFromNormalAndCoplanarPoint(n.object.up,n.target),u.intersectPlane(p,n.target))))}else n.object instanceof i.OrthographicCamera&&n.object.isOrthographicCamera&&(j=1!==g)&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/g)),n.object.updateProjectionMatrix());return g=1,L=!1,!!(j||d.distanceToSquared(n.object.position)>h||8*(1-v.dot(n.object.quaternion))>h)&&(n.dispatchEvent(o),d.copy(n.object.position),v.copy(n.object.quaternion),j=!1,!0)}})(),this.connect=e=>{e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),n.domElement=e,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",eo),n.domElement.addEventListener("pointerdown",Q),n.domElement.addEventListener("pointercancel",ee),n.domElement.addEventListener("wheel",et)},this.dispose=()=>{var e,t,o,r,a,i;null==(e=n.domElement)||e.removeEventListener("contextmenu",eo),null==(t=n.domElement)||t.removeEventListener("pointerdown",Q),null==(o=n.domElement)||o.removeEventListener("pointercancel",ee),null==(r=n.domElement)||r.removeEventListener("wheel",et),null==(a=n.domElement)||a.ownerDocument.removeEventListener("pointermove",J),null==(i=n.domElement)||i.ownerDocument.removeEventListener("pointerup",$),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",en)};let n=this,o={type:"change"},r={type:"start"},a={type:"end"},c={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},s=c.NONE,h=1e-6,f=new i.Spherical,b=new i.Spherical,g=1,E=new i.Vector3,v=new i.Vector2,y=new i.Vector2,O=new i.Vector2,w=new i.Vector2,P=new i.Vector2,j=new i.Vector2,T=new i.Vector2,A=new i.Vector2,S=new i.Vector2,C=new i.Vector3,M=new i.Vector2,L=!1,x=[],R={};function N(){return Math.pow(.95,n.zoomSpeed)}function D(e){n.reverseOrbit||n.reverseHorizontalOrbit?b.theta+=e:b.theta-=e}function k(e){n.reverseOrbit||n.reverseVerticalOrbit?b.phi+=e:b.phi-=e}let I=(()=>{let e=new i.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),E.add(e)}})(),z=(()=>{let e=new i.Vector3;return function(t,o){!0===n.screenSpacePanning?e.setFromMatrixColumn(o,1):(e.setFromMatrixColumn(o,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),E.add(e)}})(),V=(()=>{let e=new i.Vector3;return function(t,o){let r=n.domElement;if(r&&n.object instanceof i.PerspectiveCamera&&n.object.isPerspectiveCamera){let a=n.object.position;e.copy(a).sub(n.target);let i=e.length();I(2*t*(i*=Math.tan(n.object.fov/2*Math.PI/180))/r.clientHeight,n.object.matrix),z(2*o*i/r.clientHeight,n.object.matrix)}else r&&n.object instanceof i.OrthographicCamera&&n.object.isOrthographicCamera?(I(t*(n.object.right-n.object.left)/n.object.zoom/r.clientWidth,n.object.matrix),z(o*(n.object.top-n.object.bottom)/n.object.zoom/r.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function Y(e){n.object instanceof i.PerspectiveCamera&&n.object.isPerspectiveCamera||n.object instanceof i.OrthographicCamera&&n.object.isOrthographicCamera?g/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function F(e){n.object instanceof i.PerspectiveCamera&&n.object.isPerspectiveCamera||n.object instanceof i.OrthographicCamera&&n.object.isOrthographicCamera?g*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function H(e){if(!n.zoomToCursor||!n.domElement)return;L=!0;let t=n.domElement.getBoundingClientRect(),o=e.clientX-t.left,r=e.clientY-t.top,a=t.width,i=t.height;M.x=o/a*2-1,M.y=-(r/i*2)+1,C.set(M.x,M.y,1).unproject(n.object).sub(n.object.position).normalize()}function U(e){return Math.max(n.minDistance,Math.min(n.maxDistance,e))}function _(e){v.set(e.clientX,e.clientY)}function Z(e){w.set(e.clientX,e.clientY)}function X(){if(1==x.length)v.set(x[0].pageX,x[0].pageY);else{let e=.5*(x[0].pageX+x[1].pageX),t=.5*(x[0].pageY+x[1].pageY);v.set(e,t)}}function K(){if(1==x.length)w.set(x[0].pageX,x[0].pageY);else{let e=.5*(x[0].pageX+x[1].pageX),t=.5*(x[0].pageY+x[1].pageY);w.set(e,t)}}function W(){let e=x[0].pageX-x[1].pageX,t=x[0].pageY-x[1].pageY;T.set(0,Math.sqrt(e*e+t*t))}function G(e){if(1==x.length)y.set(e.pageX,e.pageY);else{let t=ei(e),n=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);y.set(n,o)}O.subVectors(y,v).multiplyScalar(n.rotateSpeed);let t=n.domElement;t&&(D(2*Math.PI*O.x/t.clientHeight),k(2*Math.PI*O.y/t.clientHeight)),v.copy(y)}function B(e){if(1==x.length)P.set(e.pageX,e.pageY);else{let t=ei(e),n=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);P.set(n,o)}j.subVectors(P,w).multiplyScalar(n.panSpeed),V(j.x,j.y),w.copy(P)}function q(e){let t=ei(e),o=e.pageX-t.x,r=e.pageY-t.y;A.set(0,Math.sqrt(o*o+r*r)),S.set(0,Math.pow(A.y/T.y,n.zoomSpeed)),Y(S.y),T.copy(A)}function Q(e){var t,o;!1!==n.enabled&&(0===x.length&&(null==(t=n.domElement)||t.ownerDocument.addEventListener("pointermove",J),null==(o=n.domElement)||o.ownerDocument.addEventListener("pointerup",$)),x.push(e),"touch"===e.pointerType?function(e){switch(ea(e),x.length){case 1:switch(n.touches.ONE){case i.TOUCH.ROTATE:if(!1===n.enableRotate)return;X(),s=c.TOUCH_ROTATE;break;case i.TOUCH.PAN:if(!1===n.enablePan)return;K(),s=c.TOUCH_PAN;break;default:s=c.NONE}break;case 2:switch(n.touches.TWO){case i.TOUCH.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&W(),n.enablePan&&K(),s=c.TOUCH_DOLLY_PAN;break;case i.TOUCH.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&W(),n.enableRotate&&X(),s=c.TOUCH_DOLLY_ROTATE;break;default:s=c.NONE}break;default:s=c.NONE}s!==c.NONE&&n.dispatchEvent(r)}(e):function(e){let t;switch(e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case i.MOUSE.DOLLY:if(!1===n.enableZoom)return;H(e),T.set(e.clientX,e.clientY),s=c.DOLLY;break;case i.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;Z(e),s=c.PAN}else{if(!1===n.enableRotate)return;_(e),s=c.ROTATE}break;case i.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;_(e),s=c.ROTATE}else{if(!1===n.enablePan)return;Z(e),s=c.PAN}break;default:s=c.NONE}s!==c.NONE&&n.dispatchEvent(r)}(e))}function J(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){switch(ea(e),s){case c.TOUCH_ROTATE:if(!1===n.enableRotate)return;G(e),n.update();break;case c.TOUCH_PAN:if(!1===n.enablePan)return;B(e),n.update();break;case c.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&q(e),n.enablePan&&B(e),n.update();break;case c.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&q(e),n.enableRotate&&G(e),n.update();break;default:s=c.NONE}}(e):function(e){if(!1!==n.enabled)switch(s){case c.ROTATE:if(!1===n.enableRotate)return;!function(e){y.set(e.clientX,e.clientY),O.subVectors(y,v).multiplyScalar(n.rotateSpeed);let t=n.domElement;t&&(D(2*Math.PI*O.x/t.clientHeight),k(2*Math.PI*O.y/t.clientHeight)),v.copy(y),n.update()}(e);break;case c.DOLLY:if(!1===n.enableZoom)return;A.set(e.clientX,e.clientY),S.subVectors(A,T),S.y>0?Y(N()):S.y<0&&F(N()),T.copy(A),n.update();break;case c.PAN:if(!1===n.enablePan)return;P.set(e.clientX,e.clientY),j.subVectors(P,w).multiplyScalar(n.panSpeed),V(j.x,j.y),w.copy(P),n.update()}}(e))}function $(e){var t,o,r;er(e),0===x.length&&(null==(t=n.domElement)||t.releasePointerCapture(e.pointerId),null==(o=n.domElement)||o.ownerDocument.removeEventListener("pointermove",J),null==(r=n.domElement)||r.ownerDocument.removeEventListener("pointerup",$)),n.dispatchEvent(a),s=c.NONE}function ee(e){er(e)}function et(e){!1!==n.enabled&&!1!==n.enableZoom&&(s===c.NONE||s===c.ROTATE)&&(e.preventDefault(),n.dispatchEvent(r),H(e),e.deltaY<0?F(N()):e.deltaY>0&&Y(N()),n.update(),n.dispatchEvent(a))}function en(e){!1!==n.enabled&&!1!==n.enablePan&&function(e){let t=!1;switch(e.code){case n.keys.UP:V(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:V(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:V(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:V(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function eo(e){!1!==n.enabled&&e.preventDefault()}function er(e){delete R[e.pointerId];for(let t=0;t<x.length;t++)if(x[t].pointerId==e.pointerId){x.splice(t,1);return}}function ea(e){let t=R[e.pointerId];void 0===t&&(t=new i.Vector2,R[e.pointerId]=t),t.set(e.pageX,e.pageY)}function ei(e){return R[(e.pointerId===x[0].pointerId?x[1]:x[0]).pointerId]}void 0!==t&&this.connect(t),this.update()}}let f=a.forwardRef(({makeDefault:e,camera:t,regress:n,domElement:i,enableDamping:c=!0,keyEvents:s=!1,onChange:l,onStart:u,onEnd:p,...m},d)=>{let f=(0,r.A)(e=>e.invalidate),b=(0,r.A)(e=>e.camera),g=(0,r.A)(e=>e.gl),E=(0,r.A)(e=>e.events),v=(0,r.A)(e=>e.setEvents),y=(0,r.A)(e=>e.set),O=(0,r.A)(e=>e.get),w=(0,r.A)(e=>e.performance),P=t||b,j=i||E.connected||g.domElement,T=a.useMemo(()=>new h(P),[P]);return(0,r.C)(()=>{T.enabled&&T.update()},-1),a.useEffect(()=>(s&&T.connect(!0===s?j:s),T.connect(j),()=>void T.dispose()),[s,j,n,T,f]),a.useEffect(()=>{let e=e=>{f(),n&&w.regress(),l&&l(e)},t=e=>{u&&u(e)},o=e=>{p&&p(e)};return T.addEventListener("change",e),T.addEventListener("start",t),T.addEventListener("end",o),()=>{T.removeEventListener("start",t),T.removeEventListener("end",o),T.removeEventListener("change",e)}},[l,u,p,T,f,v]),a.useEffect(()=>{if(e){let e=O().controls;return y({controls:T}),()=>y({controls:e})}},[e,T]),a.createElement("primitive",(0,o.Z)({ref:d,object:T,enableDamping:c},m))})},9476:function(e,t,n){n.d(t,{c:function(){return s}});var o=n(3428),r=n(2265),a=n(7837),i=n(6375);let c=e=>"function"==typeof e,s=r.forwardRef(({envMap:e,resolution:t=256,frames:n=1/0,makeDefault:s,children:l,...u},p)=>{var m;let d=(0,a.A)(({set:e})=>e),h=(0,a.A)(({camera:e})=>e),f=(0,a.A)(({size:e})=>e),b=r.useRef(null),g=r.useRef(null),E=function(e,t,n){let o=(0,a.A)(e=>e.size),c=(0,a.A)(e=>e.viewport),s="number"==typeof e?e:o.width*c.dpr,l="number"==typeof t?t:o.height*c.dpr,{samples:u=0,depth:p,...m}=("number"==typeof e?void 0:e)||{},d=r.useMemo(()=>{let e=new i.WebGLRenderTarget(s,l,{minFilter:i.LinearFilter,magFilter:i.LinearFilter,type:i.HalfFloatType,...m});return p&&(e.depthTexture=new i.DepthTexture(s,l,i.FloatType)),e.samples=u,e},[]);return r.useLayoutEffect(()=>{d.setSize(s,l),u&&(d.samples=u)},[u,d,s,l]),r.useEffect(()=>()=>d.dispose(),[]),d}(t);r.useLayoutEffect(()=>{u.manual||(b.current.aspect=f.width/f.height)},[f,u]),r.useLayoutEffect(()=>{b.current.updateProjectionMatrix()});let v=0,y=null,O=c(l);return(0,a.C)(t=>{O&&(n===1/0||v<n)&&(g.current.visible=!1,t.gl.setRenderTarget(E),y=t.scene.background,e&&(t.scene.background=e),t.gl.render(t.scene,b.current),t.scene.background=y,t.gl.setRenderTarget(null),g.current.visible=!0,v++)}),r.useLayoutEffect(()=>{if(s)return d(()=>({camera:b.current})),()=>d(()=>({camera:h}))},[b,s,d]),r.createElement(r.Fragment,null,r.createElement("perspectiveCamera",(0,o.Z)({ref:(m=[b,p],function(e){m.forEach(function(t){"function"==typeof t?t(e):null!=t&&(t.current=e)})})},u),!O&&l),r.createElement("group",{ref:g},O&&l(E.texture)))})},1371:function(e,t,n){n.d(t,{G:function(){return l}});var o=n(2265),r=n(6375),a=n(7837);let i=e=>e&&e.isOrthographicCamera,c=new r.Color;function s({canvasSize:e,scene:t,index:n,children:r,frames:s,rect:l,track:u}){let p=(0,a.A)(e=>e.get),m=(0,a.A)(e=>e.camera),d=(0,a.A)(e=>e.scene),h=(0,a.A)(e=>e.setEvents),f=0;return(0,a.C)(n=>{if(s===1/0||f<=s){var o;l.current=null==(o=u.current)?void 0:o.getBoundingClientRect(),f++}if(l.current){let{position:{left:o,bottom:a,width:s,height:u},isOffscreen:p}=function(e,t){let{right:n,top:o,left:r,bottom:a,width:i,height:c}=t,s=t.bottom<0||o>e.height||n<0||t.left>e.width;if("top"in e){let t=e.top+e.height;return{position:{width:i,height:c,left:r-e.left,top:o,bottom:t-a,right:n},isOffscreen:s}}return{position:{width:i,height:c,top:o,left:r,bottom:e.height-a,right:n},isOffscreen:s}}(e,l.current),h=s/u;i(m)?(m.left!==-(s/2)||m.right!==s/2||m.top!==u/2||m.bottom!==-(u/2))&&(Object.assign(m,{left:-(s/2),right:s/2,top:u/2,bottom:-(u/2)}),m.updateProjectionMatrix()):m.aspect!==h&&(m.aspect=h,m.updateProjectionMatrix()),n.gl.setViewport(o,a,s,u),n.gl.setScissor(o,a,s,u),n.gl.setScissorTest(!0),p?(n.gl.getClearColor(c),n.gl.setClearColor(c,n.gl.getClearAlpha()),n.gl.clear(!0,!0)):n.gl.render(r?d:t,m),n.gl.setScissorTest(!0)}},n),o.useEffect(()=>{let e=p().events.connected;return h({connected:u.current}),()=>h({connected:e})},[]),o.useEffect(()=>{"top"in e||console.warn("Detected @react-three/fiber canvas size does not include position information. <View /> may not work as expected. Upgrade to @react-three/fiber ^8.1.0 for support.\n See https://github.com/pmndrs/drei/issues/944")},[]),o.createElement(o.Fragment,null,r)}let l=({track:e,index:t=1,frames:n=1/0,children:i})=>{var c,l;let u=o.useRef(null),{size:p,scene:m}=(0,a.A)(),[d]=o.useState(()=>new r.Scene),h=o.useCallback((t,n)=>{if(u.current&&e.current&&t.target===e.current){let{width:e,height:o,left:r,top:a}=u.current,i=t.clientX-r,c=t.clientY-a;n.pointer.set(i/e*2-1,-(c/o*2)+1),n.raycaster.setFromCamera(n.pointer,n.camera)}},[u,e]),[f,b]=o.useReducer(()=>!0,!1);return o.useEffect(()=>{var t;u.current=null==(t=e.current)?void 0:t.getBoundingClientRect(),b()},[e]),o.createElement(o.Fragment,null,f&&(0,a.g)(o.createElement(s,{canvasSize:p,frames:n,scene:m,track:e,rect:u,index:t},i,o.createElement("group",{onPointerOver:()=>null})),d,{events:{compute:h,priority:t},size:{width:null==(c=u.current)?void 0:c.width,height:null==(l=u.current)?void 0:l.height}}))}},219:function(e,t,n){n.d(t,{Z:function(){return f}});var o,r,a=n(2265);let i=e=>{let t;let n=new Set,o=(e,o)=>{let r="function"==typeof e?e(t):e;if(!Object.is(r,t)){let e=t;t=(null!=o?o:"object"!=typeof r||null===r)?r:Object.assign({},t,r),n.forEach(n=>n(t,e))}},r=()=>t,a={setState:o,getState:r,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(o,r,a),a},c=e=>e?i(e):i;var s=n(5401);let{useDebugValue:l}=a,{useSyncExternalStoreWithSelector:u}=s,p=!1,m=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?c(e):e,n=(e,n)=>(function(e,t=e.getState,n){n&&!p&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),p=!0);let o=u(e.subscribe,e.getState,e.getServerState||e.getState,t,n);return l(o),o})(t,e,n);return Object.assign(n,t),n},d=e=>e?m(e):m,h="undefined"!=typeof window&&(null!=(o=window.document)&&o.createElement||(null==(r=window.navigator)?void 0:r.product)==="ReactNative")?a.useLayoutEffect:a.useEffect;function f(){let e=d(e=>({current:[],version:0,set:e}));return{In:({children:t})=>{let n=e(e=>e.set),o=e(e=>e.version);return h(()=>{n(e=>({version:e.version+1}))},[]),h(()=>(n(({current:e})=>({current:[...e,t]})),()=>n(({current:e})=>({current:e.filter(e=>e!==t)}))),[t,o]),null},Out:()=>{let t=e(e=>e.current);return a.createElement(a.Fragment,null,t)}}}},1853:function(e,t,n){/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=n(2265),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=o.useState,i=o.useEffect,c=o.useLayoutEffect,s=o.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),o=a({inst:{value:n,getSnapshot:t}}),r=o[0].inst,u=o[1];return c(function(){r.value=n,r.getSnapshot=t,l(r)&&u({inst:r})},[e,n,t]),i(function(){return l(r)&&u({inst:r}),e(function(){l(r)&&u({inst:r})})},[e]),s(n),n};t.useSyncExternalStore=void 0!==o.useSyncExternalStore?o.useSyncExternalStore:u},8704:function(e,t,n){/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=n(2265),r=n(6272),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useSyncExternalStore,c=o.useRef,s=o.useEffect,l=o.useMemo,u=o.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,o,r){var p=c(null);if(null===p.current){var m={hasValue:!1,value:null};p.current=m}else m=p.current;var d=i(e,(p=l(function(){function e(e){if(!s){if(s=!0,i=e,e=o(e),void 0!==r&&m.hasValue){var t=m.value;if(r(t,e))return c=t}return c=e}if(t=c,a(i,e))return t;var n=o(e);return void 0!==r&&r(t,n)?t:(i=e,c=n)}var i,c,s=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,n,o,r]))[0],p[1]);return s(function(){m.hasValue=!0,m.value=d},[d]),u(d),d}},6272:function(e,t,n){e.exports=n(1853)},5401:function(e,t,n){e.exports=n(8704)}}]);