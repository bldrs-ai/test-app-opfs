self.addEventListener("message",async e=>{let t=[],r=[];try{if("accessOPFS"===e.data.command)try{try{let e;let r=await navigator.storage.getDirectory();try{e=await r.getFileHandle("testFile")}catch(a){t.push('File "testFile" not found, creating new file.'),e=await r.getFileHandle("testFile",{create:!0})}try{await r.getDirectoryHandle("testFolder")}catch(e){t.push('Directory "testFolder" not found, creating new directory.'),await r.getDirectoryHandle("testFolder",{create:!0})}try{t.push('Writing "Hello, World!" to testFile...');let r=await e.createSyncAccessHandle(),a=new TextEncoder().encode("Hello World!");r.write(a,{at:0}),await r.close()}catch(e){t.push("Error writing to testFile: ".concat(e,"."))}try{let r=await e.getFile(),a=await r.text();t.push("testFile contents: ".concat(a))}catch(e){t.push("Error reading from testFile: ".concat(e,"."))}t.push("deleting testFile"),r.removeEntry("testFile");try{e=await r.getFileHandle("testFile")}catch(e){t.push("testFile deleted.")}t.push("deleting testFolder..."),r.removeEntry("testFolder");try{await r.getDirectoryHandle("testFolder")}catch(e){t.push("testFolder deleted.")}}catch(e){r.push("Error accessing OPFS:"),r.push(e)}}catch(e){r.push("Error creating file:"),r.push(e)}self.postMessage(t)}catch(e){self.postMessage({error:e.message})}}),_N_E={};